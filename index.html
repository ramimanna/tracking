<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>tracking.js - first tracking</title>
  <script src="js/vendor/tracking-min.js"></script>
  <script src="js/vendor/data/face-min.js"></script>
</head>
<body>
<div id="container">
    <canvas id="myCanvas" width="400" height="300" style="border:1px solid #000; border-radius:10px;"></canvas>
    <video autoplay="true" id="myVideo" width="400" height="300" preload autoplay loop muted>
    </video>
    <video src = "Shaden.mp4" autoplay="true" id="shadenVideo" width="400" height="300" preload autoplay loop muted></video>
</div>

<style rel="stylesheet" type = "text/css" href="css/style.css"></style>
<script src="video.js" type="text/javascript"></script> 

  <script>
// reference to canvas and context
var canvas=document.getElementById("myCanvas");
var context=canvas.getContext("2d");
var cw,ch;

// reference to video element
var v = document.getElementById('shadenVideo');

// wait until video metadata is loaded
v.addEventListener( "loadedmetadata", function(e){

    // set the canvas size to the video size
    cw=canvas.width=v.videoWidth;
    ch=canvas.height=v.videoHeight;

    // listen for when user presses play
    v.addEventListener('play', function(){
        // start loop that displays video frames on canvas
        requestAnimationFrame(animate);
    },false);

}, false );   

// loop that displays video frames on canvas
function animate(time){

    // stop the loop if user stops video
    if(v.paused || v.ended){ return; }

    // draw the 1 current video frame on the canvas
    context.drawImage(v,0,0,cw,ch);

    // also draw your image on the canvas
    context.drawImage(img,0,0);

    // request another loop 
    requestAnimationFrame(animate);

}

//////////////////////////////////////////////////////////////////////////////////////////////

  var colors = new tracking.ColorTracker(['magenta', 'cyan', 'yellow']);

  colors.on('track', function(event) {
    if (event.data.length === 0) {
      // No colors were detected in this frame.
    } else {
      event.data.forEach(function(rect) {
        console.log(rect.x, rect.y, rect.height, rect.width, rect.color);
      });
    }
  });

  var objects = new tracking.ObjectTracker("face");

  objects.on('track',function(event){
    if(event.data.length === 0) {
      //No objects were detected in this frame.
    } else {
      event.data.forEach(function(rect){
        console.log(rect.x, rect.y, rect.height, rect.width, rect.color);        
      });
    }
  });

  tracking.track('#myVideo', objects);
  </script>
</body>
</html>