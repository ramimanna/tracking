<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>tracking.js - first tracking</title>
  <link rel="stylesheet" type = "text/css" href="css/style.css"></link>
  <script src="js/vendor/tracking-min.js"></script>
  <script src="js/vendor/data/face-min.js"></script>
</head>
<body>
    <canvas id="myCanvas" width="400" height="300" style="border:1px solid #000; border-radius:10px;"></canvas>

    <video autoplay="true" id="myVideo" width="400" height="300" preload autoplay loop muted>
    </video>

<script src="video.js" type="text/javascript"></script> 

  <script>

//////////////////////////////////////////////////////////////////////////////////////////////
  var c = document.getElementById("myCanvas");
  var ctx = c.getContext("2d");

  
  // var colors = new tracking.ColorTracker(['magenta', 'cyan', 'yellow']);

  // colors.on('track', function(event) {
  //   if (event.data.length === 0) {
  //     // No colors were detected in this frame.
  //   } else {
  //     event.data.forEach(function(rect) {
  //       console.log(rect.x, rect.y, rect.height, rect.width, rect.color);
  //     });
  //   }
  // });

  var objects = new tracking.ObjectTracker("face");

  objects.on('track',function(event){
    if(event.data.length === 0) {
        ctx.clearRect(0,0,c.width,c.height);
    } else {
      event.data.forEach(function(rect){
        // console.log(rect.x, rect.y, rect.height, rect.width, rect.color);
        // console.log("hi");
        ctx.clearRect(0,0,c.width,c.height);
        ctx.beginPath();
        ctx.lineWidth="1";
        ctx.strokeStyle="purple";
        ctx.rect(rect.x,rect.y,rect.width,rect.height);
        ctx.stroke();        
      });
    }
  });

  tracking.track('#myVideo', objects);
  </script>
</body>
</html>